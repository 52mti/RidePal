<view class="container">
  <custom-nav title="选择地点" showBack="true" bg-color="#ffffff" text-color="#000000" />

  <view class="search-header">
    <view class="city-selector" bindtap="onSelectCity">
      <text>{{currentCity}}</text>
      <van-icon name="arrow-down" size="12px" color="#FF8C00" />
    </view>
    <view class="search-box">
      <van-icon name="search" size="16px" color="#B3B3B3" />
      <input 
        class="search-input" 
        placeholder="您想去哪里？" 
        placeholder-class="input-placeholder"
        value="{{keyword}}" 
        bindinput="onInput" 
        focus="{{true}}" 
      />
    </view>
    <view class="cancel-btn" bindtap="onCancel">取消</view>
  </view>

  <scroll-view scroll-y class="scroll-content" show-scrollbar="{{false}}">
    
    <view class="section-header" wx:if="{{!keyword && list.length > 0}}">
      <text class="section-title">历史记录</text>
      <view class="clear-btn" bindtap="clearHistory">
        <van-icon name="delete" size="14px" color="#B3B3B3" />
        <text>清除历史</text>
      </view>
    </view>

    <view class="location-list">
      <view class="location-item" wx:for="{{list}}" wx:key="id" bindtap="onSelectLocation" data-item="{{item}}">
        <view class="item-icon-box">
          <van-icon name="{{ keyword ? 'location-o' : 'clock-o' }}" color="#FF8C00" size="20px" />
        </view>
        
        <view class="item-info">
          <text class="item-name">{{item.title}}</text>
          <text class="item-address">{{item.address}}</text>
        </view>
        
        <view class="item-arrow">
          <van-icon name="arrow" color="#FF8C00" size="16px" custom-class="up-right-arrow" />
        </view>
      </view>
    </view>

    <view class="empty-state" wx:if="{{list.length === 0}}">
      <van-icon name="location" size="48px" color="#E5E5E5" />
      <text class="empty-text">{{keyword ? '未找到相关地点' : '没有更多历史了'}}</text>
    </view>

  </scroll-view>
</view>